<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <audio id="m" class="m" autoplay loop>
        <source src="music/Dog_and_Pony_Show.mp3"></audio>
    <video width="100%" height="auto" controls preload="auto" poster="images/a.jpg" id="v" class="v">
        <source src="video/a.mp4">
    </video>
    <img src="images/music_on_b.png" alt="" onclick="togglePlay()" class="voice">
    <img src="images/music_on_b.png" alt="" onclick="togglePlay()" class="voice">
    <img src="images/music_on_b.png" alt="" onclick="togglePlay()" class="voice">
    <script>
        let mus = document.getElementById("m");
        let m = document.querySelectorAll(".m");
        let v = document.querySelectorAll(".v");
        function togglePlay(){
            return mus.paused ? mus.play() : mus.pause();
        };
        m.forEach(function(mu){
            let vo = document.querySelectorAll(".voice");
            mu.onplay = function(){
                console.log("暫停");
                vo.forEach(function(voi){
                    voi.src="images/music_off_b.png";
                })
                // document.getElementById("voice").src = "images/music_off_b.png";
            }
            mu.onpause = function(){
                console.log("播放");
                vo.forEach(function(voi){
                    voi.src="images/music_on_b.png";
                })
                // document.getElementById("voice").src = "images/music_on_b.png";
            }
        })
        v.forEach(function(vi){
            vi.onplaying= function(){
                mus.pause();
                console.log("test");
            }
            vi.onpause = function(){
                console.log("play");
                mus.play();
            }
        })
    </script>

</body>

</html>